#!/bin/bash
if [ -z "$URL_FILE_LIST" ]; then
   echo "Please set URL_FILE_LIST to list of url dictionaries"
   exit 1
fi

if [ -z "$OUTDIR" ]; then
   echo "Please set OUTDIR to output dir"
   exit 1
fi

if [ -z "$RHOST" ]; then
   echo "Please set RHOST to target device"
   exit 1
fi

if [ -z "$HTTP_URI" ]; then
   echo "Please set HTTP_URI to target device"
   exit 1
fi
rawOutFileName="Brute_Force_$HTTP_URI.txt"
outfileName="${rawOutFileName//[:\/]/_}"
outfile=$OUTDIR/$outfileName
rm $outfile -f
clear
echo Starting...
while read currList; do
    gobuster -u $HTTP_URI -w $currList >> $outfile
done <$URL_FILE_LIST
echo Done...
