#!/usr/bin/python
import sys
import os

if len(sys.argv) < 2:
    print "Arguments missing."
    print "Usage: sys.argv[0] [IPv4 address fragment]"
    print "i.e. to scan 10.0.0.X, pass 10.0.0"
    sys.exit()

maxCounter = 255
counter = 1
while counter < maxCounter:
    ipAddr = "{}.{}".format(sys.argv[1],counter)
    os.system("ping -c 1 " + ipAddr + " | grep from | grep -v unreachable | cut -d \" \" -f 4 | cut -d \":\" -f 1")
    counter = counter + 1