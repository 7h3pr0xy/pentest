#!/bin/bash
# -- UDP port sweep over a list of IPs

# Bail if no arguments
if [ $# -eq 0 ]; then
    echo "Usage: $0 [IP list] [port number]"
    echo " i.e. $0 myFile.txt 53"
    exit 1
fi
nmap -sU -n -iL $1 -p $2 -oG /tmp/udpPort.txt > nul
cat /tmp/udpPort.txt | grep open | grep -v filtered | cut -d " " -f 2