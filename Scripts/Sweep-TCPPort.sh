#!/bin/bash
# -- TCP port sweep over a list of IPs

# Bail if no arguments
if [ $# -eq 0 ]; then
    echo "Usage: $0 [IP list] [port number]"
    echo " i.e. $0 myFile.txt 80"
    exit 1
fi
nmap -n -iL $1 -p $2 -oG /tmp/nmapOut.txt > nul
cat /tmp/nmapOut.txt | grep Ports: | grep open | cut -d " " -f 2